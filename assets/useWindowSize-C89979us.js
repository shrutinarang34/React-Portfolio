import{r as n}from"./jsx-runtime-CbkKSL4Y.js";import{a as u,b as d}from"./components-r4J6YuSM.js";import{u as m}from"./heading-DOZD3MDR.js";function v(){const t=n.useRef(),o=u(),r=d(),i=m();return n.useCallback((s,e)=>{const l=s.split("#")[1];document.getElementById(l).scrollIntoView({behavior:i?"auto":"smooth"});const c=()=>{clearTimeout(t.current),t.current=setTimeout(()=>{window.removeEventListener("scroll",c),window.location.pathname===o.pathname&&(e==null||e(),r(`${o.pathname}#${l}`,{scroll:!1}))},50)};return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c),clearTimeout(t.current)}},[r,i,o.pathname])}function g(){const t=n.useRef(()=>({w:1280,h:800})),o=n.useCallback(()=>{let e=document.createElement("div");e.style.position="fixed",e.style.height="100vh",e.style.width=0,e.style.top=0,document.documentElement.appendChild(e),t.current.w=window.innerWidth,t.current.h=e.offsetHeight,document.documentElement.removeChild(e),e=null},[]),r=n.useCallback(()=>(navigator==null?void 0:navigator.userAgent.match(/iphone|ipod|ipad/i))?(o(),t.current.h):window.innerHeight,[o]),i=n.useCallback(()=>({width:window.innerWidth,height:r()}),[r]),[a,s]=n.useState(t.current);return n.useEffect(()=>{const e=()=>{s(i())};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[i]),a}export{v as a,g as u};
